.\" Automatically generated by Pandoc 2.9.2.1
.\"
.TH "tbrelease" "1" "2020-06-02" "Tbricks" "tbrelease man page"
.hy
.SH NAME
.PP
\f[C]tbrelease\f[R] \[en] administrates release packages and patches.
.SH SYNOPSIS
.PP
\f[C]tbrelease\f[R] [\f[C]-h\f[R]|\f[C]--help\f[R]]
.PP
\f[C]tbrelease import\f[R] <package> [<system>|\f[C]--all\f[R]]
.PP
\f[C]tbrelease list\f[R]|\f[C]ls\f[R] [<system>] [\f[C]--platform\f[R]]
[\f[C]--connectivity\f[R]]
.PP
\f[C]tbrelease info\f[R] <release>|<patch>
.PP
\f[C]tbrelease destroy\f[R] <package>[ <package>\&...] [<platform>]
.PP
\f[C]tbrelease purge\f[R]
.PP
\f[C]tbrelease history\f[R]
.SH DESCRIPTION
.PP
The \f[C]tbrelease\f[R] command imports and manages release packages and
patches of the Tbricks system.
Using this mechanism, new releases are made available to the admin
infrastructure for distribution to nodes.
.PP
The following package types are supported: platform, platform patch,
connectivity, and admin tools.
.PP
A version of package is referenced by a version number which contains a
major or minor release number and a package number
(i.e.\ \f[B]2.14.0\f[R] - major release, \f[B]2.14.1\f[R] - minor
release).
.PP
Patch to a release package is reference by a reference number
(e.g.\ 1047).
.PP
To import several packages at once, you can import an aggregated
package.
An aggregated package is a summ of platform and multiple connectivity
packages.
After importing, you will get platform and several connectivity packages
only for those venue components that are used in the system (no special
aggregated package will be imported).
To import all packages from the aggregated package, use the
\f[C]--all\f[R] switch.
.SH IDENTIFIERS
.PP
Please see \f[C]tbintro\f[R](1) for information about the identifiers
used.
.SH SUBCOMMANDS
.PP
All subcommands that modify state are logged persistently to the history
log in their original form.
.PP
\f[B]The following subcommands are supported:\f[R]
.TP
\f[B]\f[CB]tbrelease\f[B]\f[R] [\f[B]\f[CB]help\f[B]\f[R]]
Displays usage of the tool, including available subcommands and options.
.TP
\f[B]\f[CB]tbrelease import\f[B]\f[R] <package> [<system>|\f[B]\f[CB]--all\f[B]\f[R]]
Imports a release package or a patch into the administrative
infrastructure.
Releases and patches are distributed in an opaque package format with
the \f[C].tb\f[R] extension that is understood by the tool.
.PP
<package> is a release package to import.
Can be specified as a filename or an URL.
.PP
<system> can be specified only when importing aggregated packages.
From the aggregated package, only packages with the components from the
specified system will be imported.
.PP
The <system> argument cannot be used with the \f[C]--all\f[R] switch.
.PP
\f[C]--all\f[R] Allows to import all packages form the aggregated
package.
.TP
\f[B]\f[CB]tbrelease list\f[B]\f[R]|\f[B]\f[CB]ls\f[B]\f[R] [<system>] [\f[B]\f[CB]--platform\f[B]\f[R]] [\f[B]\f[CB]--connectivity\f[B]\f[R]]
Lists all available release packages and patches divided into the
\[lq]Tbricks platform\[rq] and \[lq]Tbricks connectivity\[rq] sections.
.RS
.PP
Each connectivity package depends on the version of platform package.
The \[lq]Platform requirements\[rq] column shows compatible imported
platform packages.
If no compatible platform packages were imported, the column displays
the minimal version of the compatible platform package marked as
\[lq](absent)\[rq].
.TP
\f[B]\f[CB]--platform\f[B]\f[R]
Displays platform packages with patches and admin packages.
.TP
\f[B]\f[CB]--connectivity\f[B]\f[R]
Displays connectivity packages.
.PP
If system name is provided, the command lists only packages applicable
to the system, i.e.\ the packages containing components present in the
system.
.RE
.TP
\f[B]\f[CB]tbrelease info\f[B]\f[R] <release>|<patch>
Shows information about release package or patch.
.RS
.PP
The \f[B]Version\f[R] column in the output shows compatibilities of
imported platform and connectivity packages.
.PP
The \f[B]Components\f[R] section in the output contains all component
types which can be created from the specified package.
.PP
For patch, the info output provides information about patched files with
a list of changes associated with TB-cases.
.RE
.TP
\f[B]\f[CB]tbrelease destroy\f[B]\f[R] <package>[ <package>\&...] [<platform>]
Destroys the specified releases/patches packages and deletes them
permanently.
You can specify an unlimited number of packages to delete.
If there are services still configured for the system, this command will
return an error.
.RS
.PP
The following platforms are supported: linux, solaris, darwin.
.RE
.TP
\f[B]\f[CB]tbrelease purge\f[B]\f[R]
Removes release packages and patches which are not used by components or
admin services.
.TP
\f[B]\f[CB]tbrelease history\f[B]\f[R]
Displays the history of all \f[C]tbrelease\f[R] commands successfully
issued that affect persisted state.
The history output provides the following information: originator node,
user and command name, command execution time.
.SH OPTIONS
.TP
\f[B]\f[CB]--parsable\f[B]\f[R]
When used in conjunction with subcommands, the output is displayed in a
machine-parsable format.
.SH EXAMPLES
.PP
\f[B]Importing a new platform package\f[R]
.IP
.nf
\f[C]
   $ tbrelease import tbricks-2.14.0.86-x86_64-linux.tb
   Checking archive integrity... OK
   Importing release: OK
   $
\f[R]
.fi
.PP
\f[B]Importing a platform patch\f[R]
.IP
.nf
\f[C]
   $ tbrelease import tbricks-2.14.0.86-87-x86_64-linux.tb
   Checking archive integrity... OK
   Importing release: OK
   $
\f[R]
.fi
.PP
\f[B]Importing a connectivity package\f[R]
.IP
.nf
\f[C]
   $ tbrelease import eurex_eti-2.14.0.89-x86_64-linux.tb
   Checking archive integrity... OK
   Importing release: OK
   $
\f[R]
.fi
.PP
\f[B]Importing an admin tools package\f[R]
.IP
.nf
\f[C]
   $ tbrelease import admin-2.14.0.86-x86_64-linux.tb
   Checking archive integrity... OK
   Importing release: OK
   $
\f[R]
.fi
.PP
\f[B]Removing an old package\f[R]
.IP
.nf
\f[C]
   $ tbrelease destroy tbricks-2.13.2.100
   Destroying release \[dq]tbricks-2.13.2.100\[dq]: OK
   $
\f[R]
.fi
.PP
\f[B]Listing all packages\f[R]
.IP
.nf
\f[C]
   $ tbrelease list
   Tbricks platform
            Version                   Description                      Date
   ------------------------------------------------------------------------------------
       admin-2.14.0.5            tbricks administration       2019-02-27 13:18:01 UTC
       tbricks-2.14.0.81            Tbricks platform          2019-03-10 03:09:48 UTC
       tbricks-2.14.0.82            Tbricks platform          2019-03-12 10:13:18 UTC
                      83        Tbricks platform (patch)      2019-03-13 12:29:54 UTC
                      84        Tbricks platform (patch)      2019-03-14 12:41:19 UTC
   ------------------------------------------------------------------------------------

   Tbricks connectivity
              Version                        Platform requirements                Description                 Date
   ---------------------------------------------------------------------------------------------------------------------------
       fix-2.14.0.81                           tbricks-2.14.0.81                 FIX components      2019-03-10 03:12:48 UTC
       millistream-2.14.0.81                   tbricks-2.14.0.81                  Millistream        2019-03-10 03:19:03 UTC
                   2.14.0.82       tbricks-2.14.0.81 .. tbricks-2.14.0.82-83      Millistream        2019-03-12 10:15:37 UTC
                   2.14.0.83                 tbricks-2.14.0.82-83                 Millistream        2019-03-13 09:34:18 UTC
                   2.14.0.84               tbricks-2.14.0.85 (absent)             Millistream        2019-03-14 10:03:25 UTC
   $
\f[R]
.fi
.PP
\f[B]Displaying a platform package info\f[R]
.IP
.nf
\f[C]
   $ tbrelease info tbricks-2.14.0.81
              Version                Description                      Identifier
   --------------------------------------------------------------------------------------------
      tbricks-2.14.0.81            Tbricks platform         d235cbe4-4cb0-11e9-8e80-82a3c8ea040e
      |- fix-2.14.0.81              FIX components          a28bbbfe-5469-11e9-b470-895eb2708cd9
      |- millistream-2.14.0.81       Millistream            4856215a-4eed-11e9-90c0-002ef70e977e
      |-             2.14.0.82       Millistream            c4e902a6-5225-11e9-ba90-3b0faca02856
   --------------------------------------------------------------------------------------------
     Components:
     \[dq]Speedcore\[dq], \[dq]MarketPlace\[dq], \[dq]XRayEngine\[dq], \[dq]Metadata\[dq], \[dq]XRayPersistence\[dq], \[dq]Trade Persistence\[dq], \[dq]InstrumentReferenceDataTest\[dq], \[dq]InstrumentReferenceDataXML\[dq], \[dq]TradingReferenceDataXML\[dq],
   \[dq]OMD RawDataServer\[dq], \[dq]OMD TickServer\[dq], \[dq]OMD NativeMemoryLoader\[dq], \[dq]OMD NativeDailyLoader\[dq], \[dq]OMD RTMemoryLoader\[dq], \[dq]OMD RTDailyLoader\[dq], \[dq]OMD AsciiDailyLoader\[dq], \[dq]OMD OTQQueryDailyLoader\[dq],
   \[dq]Instrument\[dq], \[dq]Matching Engine\[dq], \[dq]Systematic Internaliser\[dq], \[dq]Basket Pricing\[dq], \[dq]Proxy Pricing\[dq], \[dq]Orc SD\[dq], \[dq]Order Persistence\[dq], \[dq]Strategy Engine\[dq], \[dq]Calculation Engine\[dq], \[dq]Limit Engine\[dq],
   \[dq]Accessory Engine\[dq], \[dq]Integration Engine\[dq], \[dq]Flow Engine\[dq], \[dq]Visualization Engine\[dq], \[dq]Distribution Engine\[dq], \[dq]Tbricks Proxy\[dq]
   $
\f[R]
.fi
.PP
\f[B]Displaying a connectivity package info\f[R]
.IP
.nf
\f[C]
   $ tbrelease info millistream-2.14.0.82
              Version                   Description                         Identifier
   --------------------------------------------------------------------------------------------------
      tbricks-2.14.0.81               Tbricks platform          d235cbe4-4cb0-11e9-8e80-82a3c8ea040e
      tbricks-2.14.0.82               Tbricks platform          17c6dbc8-57b3-11e9-9ac0-903df476fc37
      tbricks-2.14.0.82-83        Tbricks platform (patch)      511f9bb4-50b3-11e9-9140-3ca6f74cba05
      |- millistream-2.14.0.82           Millistream            c4e902a6-5225-11e9-ba90-3b0faca02856
   --------------------------------------------------------------------------------------------------
     Components:
       \[dq]Millistream\[dq]
   $
\f[R]
.fi
.PP
\f[B]Displaying a patch info\f[R]
.IP
.nf
\f[C]
   $ tbrelease info tbricks-2.14.0.82-83
              Version                    Description                          Identifier
   ----------------------------------------------------------------------------------------------------
      tbricks-2.14.0.82-83         Tbricks platform (patch)      ce4182bc-603d-11e9-ae30-6fbfcbf425a4
      |- eurex_eti-2.14.0.82              Eurex ETI              db0ad646-6034-11e9-8210-b7d9ff57231e
   ----------------------------------------------------------------------------------------------------
     Components:
       \[dq]Speedcore\[dq], \[dq]MarketPlace\[dq], \[dq]XRayEngine\[dq], \[dq]Metadata\[dq], \[dq]XRayPersistence\[dq], \[dq]Trade Persistence\[dq], \[dq]InstrumentReferenceDataTest\[dq], \[dq]InstrumentReferenceDataXML\[dq], \[dq]TradingReferenceDataXML\[dq], \[dq]OMD RawDataServer\[dq], \[dq]OMD TickServer\[dq], \[dq]OMD NativeMemoryLoader\[dq], \[dq]OMD NativeDailyLoader\[dq], \[dq]OMD RTMemoryLoader\[dq], \[dq]OMD RTDailyLoader\[dq], \[dq]OMD AsciiDailyLoader\[dq], \[dq]OMD OTQQueryDailyLoader\[dq], \[dq]Instrument\[dq], \[dq]Matching Engine\[dq], \[dq]Systematic Internaliser\[dq], \[dq]Basket Pricing\[dq], \[dq]Proxy Pricing\[dq], \[dq]Orc SD\[dq], \[dq]Order Persistence\[dq], \[dq]Strategy Engine\[dq], \[dq]Calculation Engine\[dq], \[dq]Limit Engine\[dq], \[dq]Accessory Engine\[dq], \[dq]Integration Engine\[dq], \[dq]Flow Engine\[dq], \[dq]Visualization Engine\[dq], \[dq]Distribution Engine\[dq], \[dq]Tbricks Proxy\[dq]

                      Project                      Version           Changes                                  Files
   -----------------------------------------------------------------------------------------------------------------------------------------

      libraries/plugin_engine                      f560518      faaa494 \[at] TB-91391      platform/lib64/libtbricks_plugin_engine.so

      servers/connectivity/eurex/tr_eti/eurex      2b3a08a      2b3a08a \[at] TB-91398      platform/lib64/libtbricks_trading_eurex_nta.so

      servers/connectivity/eurex/tr_eti/xetra      7d1c832      6e6c7d7 \[at] TB-91560      platform/lib64/libtbricks_trading_xetra_eti.so
   -----------------------------------------------------------------------------------------------------------------------------------------
    $
\f[R]
.fi
.SH EXIT STATUS
.PP
The following exit values are returned:
.IP \[bu] 2
0: Successful completion.
.IP \[bu] 2
1: An error occurred.
.IP \[bu] 2
2: Invalid command line options were specified.
.SH SEE ALSO
.PP
\f[C]tbintro\f[R](1), \f[C]tbaudit\f[R](1), \f[C]tbcomponent\f[R](1),
\f[C]tbcore\f[R](1), \f[C]tblog\f[R](1), \f[C]tbnode\f[R](1),
\f[C]tbrelease\f[R](1), \f[C]tbresource\f[R](1), \f[C]tbservice\f[R](1),
\f[C]tbsubsystem\f[R](1), \f[C]tbsystem\f[R](1), \f[C]tbuser\f[R](1)
