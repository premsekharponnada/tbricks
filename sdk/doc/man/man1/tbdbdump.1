.\" Automatically generated by Pandoc 2.9.2.1
.\"
.TH "tbdbdump" "1" "2020-06-02" "Tbricks" "tbdbdump man page"
.hy
.SH NAME
.PP
\f[C]tbdbdump\f[R] \[en] dumps Tbricks service database in a human
readable format.
.SH SYNOPSIS
.PP
\f[C]tbdbdump --path\f[R] <storage_path> [\f[C]--log_path\f[R]
<log_path>] [\f[C]--key_type\f[R] <key_type>] [\f[C]--val_type\f[R]
<value_type>] [\f[C]-t\f[R]|\f[C]--table\f[R] <table_name>]
[\f[C]-i\f[R]|\f[C]--index\f[R] <id>] [\f[C]-d\f[R]|\f[C]--dup\f[R]]
.SH DESCRIPTION
.TP
\f[B]\f[CB]--path\f[B]\f[R]
Defines storage to open.
Typically it is equal to
<persistence_root>/<component_id>/<storage_name>.
It is not necessary to append \f[B]storage.db\f[R] to <storage_path>.
It will be added automatically.
Current folder is used by default.
.TP
\f[B]\f[CB]--log_path\f[B]\f[R]
Defines path with storage transactional log.
Typicaly it is equal to
<persistence_root>/<component_id>/<storage_name>.
Value is empty by default.
.TP
\f[B]\f[CB]--salt\f[B]\f[R]
Defines the salt for database encryption.
.TP
\f[B]\f[CB]--password\f[B]\f[R]
Defines the salt for database encryption.
.TP
\f[B]\f[CB]--key_type\f[B]\f[R]
Defines storage sorting order.
The following values are supported:
.RS
.IP "1." 3
int (default)
.IP "2." 3
long
.IP "3." 3
string
.IP "4." 3
UUID
.IP "5." 3
VIID
.IP "6." 3
DateTime
.IP "7." 3
Timestamped
.RE
.TP
\f[B]\f[CB]--val_type\f[B]\f[R]
Defines data output format.
The following formats are supported:
.RS
.IP "1." 3
message - tbricks internal messages
.IP "2." 3
FIX - FIX messages
.IP "3." 3
string - value as is
.IP "4." 3
uint32
.IP "5." 3
uint64
.IP "6." 3
UUID
.IP "7." 3
DateTime
.RE
.TP
\f[B]\f[CB]-t\f[B]\f[R]|\f[B]\f[CB]--table\f[B]\f[R]
Defines the name of the table to dump.
.TP
\f[B]\f[CB]-i\f[B]\f[R]|\f[B]\f[CB]--index\f[B]\f[R]
Defines the id of the index to dump.
.TP
\f[B]\f[CB]-d\f[B]\f[R]|\f[B]\f[CB]--dup\f[B]\f[R]
Table to dump contains duplicate keys.
.SH EXAMPLES
.PP
\f[B]Typical log and storage paths:\f[R]
.TP
StoragePath
\&./persistence_root//db_orders
.TP
LogPath
\&./persistence_log_root//db_orders
.PP
\f[B]Typical usage\f[R]
.IP
.nf
\f[C]
$ tbdbdump --path <StoragePath> --log_path <LogPath> --key_type UUID --val_type message
\f[R]
.fi
.PP
\f[B]Usage in case of logs and storage saved in the same folder. It is
not common for Tbricks system\f[R]
.IP
.nf
\f[C]
$ tbdbdump --path <StoragePath> --key_type UUID --val_type message
\f[R]
.fi
.SH EXIT STATUS
.PP
The following exit values are returned:
.IP \[bu] 2
0: Successful completion.
.IP \[bu] 2
Other: An error occurred.
.SH SEE ALSO
.PP
\f[C]tbintro\f[R](1), \f[C]tbaudit\f[R](1), \f[C]tbcomponent\f[R](1),
\f[C]tbcore\f[R](1), \f[C]tblog\f[R](1), \f[C]tbnode\f[R](1),
\f[C]tbrelease\f[R](1), \f[C]tbresource\f[R](1), \f[C]tbservice\f[R](1),
\f[C]tbsubsystem\f[R](1), \f[C]tbsystem\f[R](1), \f[C]tbuser\f[R](1)
