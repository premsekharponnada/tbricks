.\" Automatically generated by Pandoc 2.9.2.1
.\"
.TH "tbcatalys" "1" "2020-06-02" "Tbricks" "tbcatalys man page"
.hy
.SH NAME
.PP
\f[C]tbcatalys\f[R] \[en] configures the \f[B]Catalys\f[R] app.
.SH SYNOPSIS
.PP
\f[C]tbcatalys\f[R] <server> [<port>]
.PP
\f[C]tbcatalys ls\f[R]
.PP
\f[C]tbcatalys cli\f[R] <component>
.PP
\f[C]tbcatalys logs\f[R] <component> [<property>]
.PP
\f[C]tbcatalys snapshot\f[R] [\f[C]-x\f[R]] <component>
.PP
\f[C]tbcatalys reset\f[R] <component>
.PP
\f[C]tbcatalys purgelogs\f[R] <component> [<days>]
.PP
\f[C]tbcatalys version\f[R] <component>
.PP
\f[C]tbcatalys upgrade\f[R] <component>
.PP
\f[C]tbcatalys endpoint\f[R] <component>
.SH DESCRIPTION
.PP
The \f[C]tbcatalys\f[R] command lists Integration Engines suitable to
run a Catalys, shows logs, launches and configures the \f[B]Catalys\f[R]
app.
Currently, the \f[C]tbcatalys\f[R] command searches for the release
package to execute commands and if release package is not present, it
falls back to the admin package.
.SH OPTIONS
.PP
\f[B]The following properties change logs output:\f[R]
.TP
\f[B]\f[CB]-level\f[B]\f[R] <level>
Show logs only less or equal than specified log level.
Requires <level> to be one of ERROR, WARN, INFO, DEBUG, TRACE, ALL.
Default value is ALL.
.TP
\f[B]\f[CB]-tail\f[B]\f[R] [<lines>]
Tail from the end of the log.
If number of lines is not specified, the last 10 lines will be printed.
.TP
\f[B]\f[CB]-f\f[B]\f[R]
Wait for new entries after reaching end of log.
.TP
\f[B]\f[CB]-from\f[B]\f[R] <datetime>
Starting inclusive timestamp in nanos or a local date/time
(e.g.\ \f[C]2017-01-01\f[R] or \f[C]2017-01-01T12:25:10[,123]\f[R])
.TP
\f[B]\f[CB]-to\f[B]\f[R] <datetime>
Ending inclusive timestamp in nanos or local date/time
(e.g.\ \f[C]2017-01-01\f[R] or \f[C]2017-01-01T12:25:10[,123]\f[R]).
If a date/time is specified and milliseconds are omitted, 999 will be
assumed.
Date/time values will be rounded up to the last nanosecond within the
specified second or millisecond.
.TP
\f[B]\f[CB]-offset\f[B]\f[R] <integer>
Starting exclusive file offset.
Requires `from' to be a timestamp.
.TP
\f[B]\f[CB]-coords\f[B]\f[R]
Print the timestamp/offset coordinates on each line.
.TP
\f[B]\f[CB]-a\f[B]\f[R]
Print all log messages.
.SH SUBCOMMANDS
.PP
The \f[C]tbcatalys\f[R] command provides subcommands to list Integration
Engines suitable to run a Catalys, show logs, launch and configure
Catalys app.
.PP
\f[B]The following subcommands are supported:\f[R]
.TP
\f[B]\f[CB]tbcatalys\f[B]\f[R] <server> [<port>]
Launch Catalys Command Line Interface on server and port defined here.
Default value for port is 15000.
.TP
\f[B]\f[CB]tbcatalys ls\f[B]\f[R]
List Integration Engines suitable to run a Catalys.
.TP
\f[B]\f[CB]tbcatalys cli\f[B]\f[R] <component>
Launch Catalys Command Line Interface.
.TP
\f[B]\f[CB]tbcatalys logs\f[B]\f[R] <component> [<property>]
View Catalys HPL log files with PROPERTIES specified below.
Unless overriden by options only the last 24 hours of logs are output.
.TP
\f[B]\f[CB]tbcatalys snapshot [-x]\f[B]\f[R] <component>
Export a snapshot of Catalys, optionally in `example' format.
.TP
\f[B]\f[CB]tbcatalys reset\f[B]\f[R] <component>
Clear all Catalys persistence.
.TP
\f[B]\f[CB]tbcatalys purgelogs\f[B]\f[R] <component> [<days>]
Clear all Catalys HPL logs (except for most recent log file).
If days is specified, it clears Catalys HPL logs older than specified
number of days.
.TP
\f[B]\f[CB]tbcatalys version\f[B]\f[R] <component>
Print version information of Catalys running within the specified
Integraton Engine component.
.TP
\f[B]\f[CB]tbcatalys upgrade\f[B]\f[R] <component>
Upgrade Catalys configuration files\[em]use only when it is explicitly
stated in Tbricks Release Notes.
.TP
\f[B]\f[CB]tbcatalys endpoint\f[B]\f[R] <component>
Print Catalys endpoint information.
.SH EXAMPLES
.PP
\f[B]Checking for suitable Integration Engines\f[R]
.IP
.nf
\f[C]
$ tbcatalys ls
Suitable integration engines:   dev_ie1
\f[R]
.fi
.PP
\f[B]Starting cli\f[R]
.IP
.nf
\f[C]
$ tbcatalys cli dev_ie1
2018-07-03 15:30:41,246 INFO  [main] com.camerontec.catalys.server.management.client.connector.
JMXRemoteConnector -  Trying to connect
to JMX service on specified port: 11000
2018-07-03 15:30:41,329 INFO  [main] com.camerontec.catalys.server.management.client.connector.
JMXRemoteConnector -  Successfully connected
to JMX service at [service:jmx:jmxmp://ip-10-201-
1-22:11000]
2018-07-03 15:30:41,349 INFO  [main] com.camerontec.catalys.server.management.client.connector.
 JMXRemoteConnector -  You are now connected to an instance of a Catalys server.
\f[R]
.fi
.PP
\f[B]Checking logs\f[R]
.IP
.nf
\f[C]
 $ tbcatalys logs dev_ie1
 2018-07-03 15:25:41,454 [main] [0:0] INFO CameronTec.WallClock [] - Loaded native lib
 \[aq]/lib/Linux-x86_64-64/libtime.so\[aq] from /tmp/JpUPZhLTWpyY8Ip/libtime.so
\f[R]
.fi
.PP
\f[B]Checking error logs\f[R]
.IP
.nf
\f[C]
 $ tbcatalys logs dev_ie1 -level ERROR
 2018-07-03 15:25:53,073 [ContainerService-Bootstrap] [0:0] ERROR CameronTec.CartridgeManager
 [] - The cartridge has not been properly assembled and should not be used in production. The
 MANIFEST file is missing either of these attributes [Implementation-Version, Implementation-
 Revision, Build-Timestamp, Cartridge-Parent-Version, Cartridge-Adapter-Utils-Version]:
 /home/maxim.tolstukhin/opt/tbricks/persistence/3be9b67c-7ecb-11e8-bab0-260186db5ae9/catalys/c
  artridges/non-normalizing-fix-adapter-1.1.jar
\f[R]
.fi
.SH SEE ALSO
.PP
\f[C]tbintro\f[R](1), \f[C]tbaudit\f[R](1), \f[C]tbcomponent\f[R](1),
\f[C]tbcore\f[R](1), \f[C]tblog\f[R](1), \f[C]tbrelease\f[R](1),
\f[C]tbresource\f[R](1), \f[C]tbservice\f[R](1),
\f[C]tbsubsystem\f[R](1), \f[C]tbsystem\f[R](1)
